(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[705],{3650:function(e,t,i){Promise.resolve().then(i.bind(i,4231))},4231:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var n=i(3827),s=i(568),a=i(4090),r=i(5293),c=i(8745),l=i(8727),d=i(7404),o=i(6227),x=i(4562),u=i(7976),m=i(1483),h=i(8025),p=i(2710),b=i(1742);let f=["easy","medium","hard"],j={easy:"bg-green-500",medium:"bg-accent",hard:"bg-red-500"};function g(){let[e,t]=(0,a.useState)("medium"),[i,g]=(0,a.useState)(null),[y,v]=(0,a.useState)(null),[w,N]=(0,a.useState)(null),[k,Z]=(0,a.useState)(null),z=(0,s.D)({mutationFn:async e=>{let t=await fetch("/api/generate-question",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({difficulty:e})});if(!t.ok)throw Error("Failed to generate question");return t.json()},onSuccess:e=>{g(e),v(null),N(null)}}),E=(0,s.D)({mutationFn:async e=>{let t=await fetch("/api/quiz-attempt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to save attempt");return t.json()}}),C=(0,a.useMemo)(()=>(null==i?void 0:i.options)||[],[i]);return(0,n.jsx)(p.a,{children:(0,n.jsx)("div",{className:"min-h-screen pt-24 pb-16",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto px-6",children:[(0,n.jsxs)(r.E.div,{variants:b.eu,initial:"hidden",animate:"visible",className:"text-center mb-12",children:[(0,n.jsx)(r.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-accent/10 text-accent mb-6",children:(0,n.jsx)(l.Z,{size:32})}),(0,n.jsx)("h1",{className:"text-4xl md:text-5xl font-display font-bold text-primary mb-4",children:"Adaptive Quiz"}),(0,n.jsx)("p",{className:"text-muted text-lg max-w-xl mx-auto",children:"AI-generated questions from the official rulebook. Every answer is grounded and cited."})]}),(0,n.jsxs)(r.E.div,{variants:b.Jm,initial:"hidden",animate:"visible",className:"flex flex-wrap items-center justify-center gap-3 mb-10",children:[f.map(i=>(0,n.jsx)(r.E.button,{variants:b.CU,whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>t(i),className:"px-5 py-2.5 rounded-full text-sm font-semibold capitalize transition-all ".concat(e===i?"".concat(j[i]," text-white shadow-lg"):"bg-white border border-border text-ink hover:border-accent/40"),children:i},i)),(0,n.jsx)(r.E.button,{variants:b.CU,whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>z.mutate(e),disabled:z.isPending,className:"pill text-white",children:z.isPending?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.E.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:(0,n.jsx)(d.Z,{size:18})}),"Generating..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{size:18}),"New Question"]})})]}),(0,n.jsx)(r.E.div,{variants:b.Jm,initial:"hidden",animate:"visible",className:"grid grid-cols-3 gap-4 mb-10",children:[{icon:o.Z,title:"Adaptive",desc:"Scales with you"},{icon:x.Z,title:"Cited",desc:"Rulebook grounded"},{icon:l.Z,title:"Tracked",desc:"Progress saved"}].map((e,t)=>(0,n.jsxs)(r.E.div,{variants:b.CU,className:"card text-center py-4",children:[(0,n.jsx)(e.icon,{size:20,className:"mx-auto text-accent mb-2"}),(0,n.jsx)("p",{className:"text-sm font-semibold text-primary",children:e.title}),(0,n.jsx)("p",{className:"text-xs text-muted",children:e.desc})]},t))}),(0,n.jsx)(c.M,{mode:"wait",children:i?(0,n.jsxs)(r.E.div,{variants:b.eu,initial:"hidden",animate:"visible",exit:{opacity:0,y:20},className:"card space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,n.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(j[e])}),(0,n.jsxs)("span",{className:"text-xs font-semibold uppercase tracking-wider text-muted",children:[e," Question"]})]}),(0,n.jsx)("h2",{className:"text-xl md:text-2xl font-display font-bold text-primary",children:i.question})]}),(0,n.jsx)("div",{className:"grid md:grid-cols-2 gap-3 relative z-10",children:C.map((e,t)=>{let s=String.fromCharCode(65+t),a=y===e,r=w&&e===i.answer,c="incorrect"===w&&a;return(0,n.jsx)("button",{type:"button",onClick:()=>!w&&v(e),disabled:!!w,className:"p-4 rounded-xl border-2 text-left transition-all hover:scale-[1.02] active:scale-[0.98] ".concat(r?"border-green-500 bg-green-50":c?"border-red-500 bg-red-50":a?"border-accent bg-accent/5":"border-border hover:border-accent/40 bg-white"),children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("span",{className:"flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center font-bold text-sm ".concat(r?"bg-green-500 text-white":c?"bg-red-500 text-white":a?"bg-accent text-white":"bg-surface text-primary"),children:r?(0,n.jsx)(u.Z,{size:18}):c?(0,n.jsx)(m.Z,{size:18}):s}),(0,n.jsx)("span",{className:"text-sm md:text-base ".concat(r||c?"font-medium":""," ").concat(r?"text-green-700":c?"text-red-700":"text-ink"),children:e})]})},e)})}),!w&&(0,n.jsxs)(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{var t,n;if(!i||!y)return;let s=y===i.answer;N(s?"correct":"incorrect"),Z(s?null:"You missed a ".concat(e," item. Review module: ").concat((null===(t=i.rule_reference)||void 0===t?void 0:t.includes("rotation"))?"Rotations":(null===(n=i.rule_reference)||void 0===n?void 0:n.includes("net"))?"Blocking":"Faults",".")),E.mutate({question:i,selected_option:y,correct:s})},disabled:!y,className:"pill text-white w-full justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:["Submit Answer",(0,n.jsx)(h.Z,{size:18})]}),(0,n.jsx)(c.M,{children:w&&(0,n.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,n.jsx)("div",{className:"p-4 rounded-xl ".concat("correct"===w?"bg-green-100 border border-green-200":"bg-red-100 border border-red-200"),children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:["correct"===w?(0,n.jsx)(u.Z,{className:"text-green-600",size:24}):(0,n.jsx)(m.Z,{className:"text-red-600",size:24}),(0,n.jsx)("span",{className:"font-bold text-lg ".concat("correct"===w?"text-green-700":"text-red-700"),children:"correct"===w?"Correct!":"Incorrect"})]})}),(0,n.jsxs)("div",{className:"p-4 rounded-xl bg-surface border border-border",children:[(0,n.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider text-muted mb-2",children:"Explanation"}),(0,n.jsx)("p",{className:"text-ink",children:i.explanation}),i.rule_reference&&(0,n.jsxs)("p",{className:"text-sm text-accent mt-3 font-medium",children:["\uD83D\uDCD6 Rule: ",i.rule_reference]})]}),k&&(0,n.jsx)("div",{className:"p-4 rounded-xl bg-accent/10 border border-accent/20",children:(0,n.jsxs)("p",{className:"text-sm font-semibold text-accent",children:["\uD83D\uDCA1 ",k]})}),(0,n.jsx)(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>z.mutate(e),disabled:z.isPending,className:"pill text-white w-full justify-center disabled:opacity-80",children:z.isPending?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.E.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:(0,n.jsx)(d.Z,{size:18})}),"Generating Question..."]}):(0,n.jsxs)(n.Fragment,{children:["Next Question",(0,n.jsx)(h.Z,{size:18})]})})]})})]},i.question):(0,n.jsxs)(r.E.div,{variants:b.eu,initial:"hidden",animate:"visible",className:"card text-center py-16",children:[(0,n.jsx)(r.E.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-accent/10 text-accent mb-6",children:(0,n.jsx)(d.Z,{size:40})}),(0,n.jsx)("h3",{className:"text-xl font-display font-bold text-primary mb-2",children:"Ready to Test Your Knowledge?"}),(0,n.jsx)("p",{className:"text-muted mb-6",children:'Click "New Question" to generate an AI-powered quiz question.'}),(0,n.jsx)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>z.mutate(e),disabled:z.isPending,className:"pill text-white disabled:opacity-80",children:z.isPending?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.E.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:(0,n.jsx)(d.Z,{size:18})}),"Generating Question..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{size:18}),"Generate Question"]})})]})})]})})})}},8025:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i(7461).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},4562:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i(7461).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},7976:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i(7461).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},8727:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i(7461).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},6227:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i(7461).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},1483:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i(7461).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},7404:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i(7461).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])}},function(e){e.O(0,[621,46,316,971,69,744],function(){return e(e.s=3650)}),_N_E=e.O()}]);
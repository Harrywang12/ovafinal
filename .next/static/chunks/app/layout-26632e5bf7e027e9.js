(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2236:function(e,t,i){Promise.resolve().then(i.t.bind(i,2445,23)),Promise.resolve().then(i.bind(i,8194)),Promise.resolve().then(i.bind(i,9153)),Promise.resolve().then(i.bind(i,5423)),Promise.resolve().then(i.bind(i,7311)),Promise.resolve().then(i.t.bind(i,2034,23)),Promise.resolve().then(i.t.bind(i,5828,23))},8194:function(e,t,i){"use strict";i.r(t),i.d(t,{FloatingChat:function(){return u}});var s=i(3827),a=i(4090),l=i(8727),r=i(2235),n=i(7366),o=i(8994),c=i(9990),d=i(568),h=i(8745),x=i(5293);function u(){let[e,t]=(0,a.useState)(!1),[i,u]=(0,a.useState)(""),[m,p]=(0,a.useState)([]),f=(0,a.useRef)(null),b=()=>{var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,a.useEffect)(()=>{b()},[m]);let w=(0,d.D)({mutationFn:async e=>{let t=await fetch("/api/chatbot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})});if(!t.ok)throw Error("Chat failed");return t.json()},onSuccess:e=>{p(t=>[...t,{role:"assistant",content:e.answer}])}}),j=()=>{if(!i.trim())return;let e=i.trim();p(t=>[...t,{role:"user",content:e}]),u(""),w.mutate(e)};return(0,s.jsxs)("div",{className:"fixed bottom-6 right-6 z-50",children:[(0,s.jsx)(h.M,{children:e&&(0,s.jsxs)(x.E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2,ease:[.16,1,.3,1]},className:"absolute bottom-20 right-0 w-[360px] bg-white rounded-2xl shadow-2xl border border-border overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-primary p-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center",children:(0,s.jsx)(l.Z,{size:20,className:"text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-display font-bold text-white",children:"Volley Tutor"}),(0,s.jsx)("p",{className:"text-xs text-white/60",children:"AI-powered, rulebook-grounded"})]})]}),(0,s.jsx)(x.E.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>t(!1),className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center text-white/70 hover:text-white hover:bg-white/20 transition-colors",children:(0,s.jsx)(r.Z,{size:18})})]}),(0,s.jsxs)("div",{className:"h-[320px] overflow-y-auto p-4 space-y-4 bg-surface",children:[0===m.length&&(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10 text-primary mb-3",children:(0,s.jsx)(n.Z,{size:24})}),(0,s.jsx)("p",{className:"text-sm text-muted",children:"Ask me anything about volleyball rules!"}),(0,s.jsx)("div",{className:"mt-4 space-y-2",children:["What is a double contact fault?","When can a libero attack?","Explain rotation rules"].map((e,t)=>(0,s.jsx)(x.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{u(e)},className:"block w-full text-left px-3 py-2 rounded-lg bg-white border border-border text-sm text-ink hover:border-accent/40 transition-colors",children:e},t))})]}),m.map((e,t)=>(0,s.jsx)(x.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,s.jsx)("div",{className:"max-w-[80%] px-4 py-3 rounded-2xl text-sm ".concat("user"===e.role?"bg-primary text-white rounded-br-md":"bg-white border border-border text-ink rounded-bl-md"),children:e.content})},t)),w.isPending&&(0,s.jsx)(x.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:(0,s.jsx)("div",{className:"px-4 py-3 rounded-2xl rounded-bl-md bg-white border border-border",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted",children:[(0,s.jsx)(o.Z,{size:14,className:"animate-spin"}),(0,s.jsx)("span",{className:"text-sm",children:"Thinking..."})]})})}),(0,s.jsx)("div",{ref:f})]}),(0,s.jsx)("div",{className:"p-4 bg-white border-t border-border",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{value:i,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),j())},className:"flex-1 px-4 py-3 rounded-xl bg-surface border border-border text-sm text-ink placeholder:text-muted focus:outline-none focus:ring-2 focus:ring-accent/30",placeholder:"Ask about a rule..."}),(0,s.jsx)(x.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:j,disabled:!i.trim()||w.isPending,className:"w-12 h-12 rounded-xl bg-primary text-white flex items-center justify-center shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transition-shadow",children:(0,s.jsx)(c.Z,{size:18})})]})})]})}),(0,s.jsxs)(x.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(e=>!e),className:"relative w-14 h-14 rounded-2xl shadow-xl flex items-center justify-center transition-all ".concat(e?"bg-secondary text-white":"bg-primary text-white"),"aria-label":"Toggle chat",children:[!e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"absolute inset-0 rounded-2xl bg-primary animate-ping opacity-20"}),(0,s.jsx)("span",{className:"absolute inset-0 rounded-2xl bg-primary animate-pulse opacity-30"})]}),(0,s.jsx)(x.E.span,{animate:{rotate:e?180:0},transition:{duration:.3},children:e?(0,s.jsx)(r.Z,{size:24}):(0,s.jsx)(n.Z,{size:24})})]})]})}},9153:function(e,t,i){"use strict";i.r(t),i.d(t,{FooterCta:function(){return u}});var s=i(3827),a=i(8792),l=i(5293),r=i(8025),n=i(3417),o=i(5582),c=i(6141),d=i(1742),h=i(1792);let x=[{title:"Training",links:[{label:"Learn",href:"/learn"},{label:"Quiz",href:"/quiz"},{label:"Practice",href:"/practice"},{label:"Challenge",href:"/challenge"}]},{title:"Resources",links:[{label:"Rulebook",href:"#"},{label:"Signals Guide",href:"#"},{label:"FAQ",href:"#"}]}];function u(){let{session:e}=(0,c.K)();return(0,s.jsxs)("footer",{className:"relative mt-auto",children:[(0,s.jsx)("div",{className:"bg-primary",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto px-6 py-8",children:(0,s.jsxs)(l.E.div,{variants:d.eu,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[(0,s.jsxs)("div",{className:"text-center md:text-left",children:[(0,s.jsx)("p",{className:"text-white/60 text-sm uppercase tracking-wider mb-1",children:"Ready to level up?"}),(0,s.jsx)("p",{className:"text-white font-display font-bold text-xl md:text-2xl",children:"Start training like a pro referee today"})]}),(0,s.jsx)(a.default,{href:e?"/quiz":"/login?next=/quiz",children:(0,s.jsxs)(l.E.span,{whileHover:{scale:1.05},whileTap:{scale:.98},className:"inline-flex items-center gap-2 px-6 py-3 rounded-full bg-white text-primary font-semibold shadow-lg hover:shadow-xl transition-shadow",children:[e?"Continue Training":"Start Training Free",(0,s.jsx)(r.Z,{size:18})]})})]})})}),(0,s.jsx)("div",{className:"bg-secondary",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-12",children:[(0,s.jsxs)(l.E.div,{variants:d.Jm,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[(0,s.jsxs)(l.E.div,{variants:d.CU,className:"col-span-2 md:col-span-1",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(h.TR,{size:"md",showText:!0})}),(0,s.jsx)("p",{className:"text-white/60 text-sm leading-relaxed",children:"AI-powered volleyball referee training. Master every call with confidence."}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-4",children:[(0,s.jsx)(l.E.a,{href:"#",whileHover:{scale:1.1,y:-2},className:"w-9 h-9 rounded-full bg-white/10 flex items-center justify-center text-white/70 hover:text-white hover:bg-white/20 transition-colors",children:(0,s.jsx)(n.Z,{size:18})}),(0,s.jsx)(l.E.a,{href:"#",whileHover:{scale:1.1,y:-2},className:"w-9 h-9 rounded-full bg-white/10 flex items-center justify-center text-white/70 hover:text-white hover:bg-white/20 transition-colors",children:(0,s.jsx)(o.Z,{size:18})})]})]}),x.map(e=>(0,s.jsxs)(l.E.div,{variants:d.CU,children:[(0,s.jsx)("p",{className:"text-white font-semibold mb-4",children:e.title}),(0,s.jsx)("ul",{className:"space-y-2",children:e.links.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(a.default,{href:e.href,className:"text-white/60 hover:text-white transition-colors text-sm",children:e.label})},e.label))})]},e.title)),(0,s.jsxs)(l.E.div,{variants:d.CU,children:[(0,s.jsx)("p",{className:"text-white font-semibold mb-4",children:"Stay Updated"}),(0,s.jsx)("p",{className:"text-white/60 text-sm mb-4",children:"Get weekly training tips and new features."}),(0,s.jsxs)("form",{className:"flex gap-2",onSubmit:e=>e.preventDefault(),children:[(0,s.jsx)("input",{type:"email",placeholder:"your@email.com",className:"flex-1 px-4 py-2 rounded-lg bg-white/10 border border-white/10 text-white placeholder:text-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"}),(0,s.jsx)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.98},type:"submit",className:"px-4 py-2 rounded-lg bg-primary text-white font-medium text-sm",children:"Join"})]})]})]}),(0,s.jsxs)(l.E.div,{variants:d.eu,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"mt-12 pt-8 border-t border-white/10 flex flex-col md:flex-row items-center justify-between gap-4 text-white/40 text-sm",children:[(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Volley Ref Lab. All rights reserved."]}),(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsx)(a.default,{href:"#",className:"hover:text-white transition-colors",children:"Privacy"}),(0,s.jsx)(a.default,{href:"#",className:"hover:text-white transition-colors",children:"Terms"})]})]})]})})]})}},5423:function(e,t,i){"use strict";i.r(t),i.d(t,{Navbar:function(){return p}});var s=i(3827),a=i(8792),l=i(4090),r=i(7907),n=i(5293),o=i(8745),c=i(2235),d=i(9744),h=i(6141),x=i(8068),u=i(1792);let m=[{href:"/learn",label:"Learn"},{href:"/quiz",label:"Quiz"},{href:"/practice",label:"Practice"},{href:"/challenge",label:"Challenge"}];function p(){let e=(0,r.useRouter)(),t=(0,r.usePathname)(),{session:i}=(0,h.K)(),p=(0,l.useMemo)(()=>(0,x.o)(),[]),[f,b]=(0,l.useState)(!1),[w,j]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=()=>{b(window.scrollY>50)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]);let v=async()=>{await p.auth.signOut(),e.replace("/")},g="/"===t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.E.header,{initial:{y:-100},animate:{y:0},transition:{duration:.6,ease:[.16,1,.3,1]},className:"fixed top-0 left-0 right-0 z-50 transition-all duration-500 ".concat(f?"bg-white/95 backdrop-blur-xl shadow-lg border-b border-border":g?"bg-transparent":"bg-white/80 backdrop-blur-md"),children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-6 py-3",children:[(0,s.jsx)(a.default,{href:"/",className:"group",children:(0,s.jsx)(u.TR,{size:"sm",showText:!0,animate:!0})}),(0,s.jsx)("nav",{className:"hidden md:flex items-center gap-1",children:m.map(e=>{let i=t===e.href;return(0,s.jsx)(a.default,{href:e.href,children:(0,s.jsxs)(n.E.span,{whileHover:{scale:1.05},className:"relative px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat(i?"text-primary":"text-ink/70 hover:text-ink"),children:[e.label,i&&(0,s.jsx)(n.E.div,{layoutId:"navbar-indicator",className:"absolute inset-0 bg-primary/10 rounded-full",transition:{duration:.3,ease:[.16,1,.3,1]}})]})},e.href)})}),(0,s.jsx)("div",{className:"hidden md:flex items-center gap-3",children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.default,{href:"/quiz",children:(0,s.jsx)(n.E.span,{whileHover:{scale:1.05},whileTap:{scale:.98},className:"pill text-white text-sm py-2",children:"Dashboard"})}),(0,s.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:v,className:"text-sm font-medium px-4 py-2 rounded-full transition-colors ".concat(f||!g?"text-muted hover:text-ink hover:bg-ink/5":"text-muted hover:text-ink hover:bg-white/20"),children:"Sign out"})]}):(0,s.jsx)(a.default,{href:"/login",children:(0,s.jsx)(n.E.span,{whileHover:{scale:1.05},whileTap:{scale:.98},className:"pill text-white text-sm py-2",children:"Get Started"})})}),(0,s.jsx)(n.E.button,{whileTap:{scale:.95},onClick:()=>j(!w),className:"md:hidden p-2 rounded-lg hover:bg-ink/5 transition-colors","aria-label":"Toggle menu",children:w?(0,s.jsx)(c.Z,{size:24,className:"text-ink"}):(0,s.jsx)(d.Z,{size:24,className:"text-ink"})})]})}),(0,s.jsx)(o.M,{children:w&&(0,s.jsx)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:[.16,1,.3,1]},className:"fixed inset-0 z-40 bg-white pt-24 px-6 md:hidden",children:(0,s.jsxs)("nav",{className:"flex flex-col gap-2",children:[m.map((e,i)=>{let l=t===e.href;return(0,s.jsx)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*i},children:(0,s.jsx)(a.default,{href:e.href,onClick:()=>j(!1),className:"block px-4 py-3 rounded-xl text-lg font-medium transition-colors ".concat(l?"bg-primary/10 text-primary":"text-ink hover:bg-ink/5"),children:e.label})},e.href)}),(0,s.jsx)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*m.length},className:"mt-6 pt-6 border-t border-border",children:i?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(a.default,{href:"/quiz",onClick:()=>j(!1),className:"block",children:(0,s.jsx)("span",{className:"pill text-white w-full justify-center",children:"Dashboard"})}),(0,s.jsx)("button",{onClick:()=>{v(),j(!1)},className:"w-full px-4 py-3 rounded-xl text-muted hover:bg-ink/5 text-center",children:"Sign out"})]}):(0,s.jsx)(a.default,{href:"/login",onClick:()=>j(!1),className:"block",children:(0,s.jsx)("span",{className:"pill text-white w-full justify-center",children:"Get Started"})})})]})})})]})}},7311:function(e,t,i){"use strict";i.r(t),i.d(t,{ReactQueryProvider:function(){return n}});var s=i(3827),a=i(1640),l=i(7082),r=i(4090);function n(e){let{children:t}=e,[i]=(0,r.useState)(()=>new a.S);return(0,s.jsx)(l.aH,{client:i,children:t})}},6141:function(e,t,i){"use strict";i.d(t,{K:function(){return l}});var s=i(4090),a=i(8068);function l(){let e=(0,s.useMemo)(()=>(0,a.o)(),[]),[t,i]=(0,s.useState)({session:null,loading:!0});return(0,s.useEffect)(()=>{let t=!0;e.auth.getSession().then(e=>{var s;let{data:a}=e;t&&i({session:null!==(s=a.session)&&void 0!==s?s:null,loading:!1})}).catch(()=>{t&&i({session:null,loading:!1})});let{data:s}=e.auth.onAuthStateChange((e,s)=>{t&&i({session:s,loading:!1})});return()=>{t=!1,s.subscription.unsubscribe()}},[e]),t}},2445:function(){}},function(e){e.O(0,[621,46,792,668,538,882,971,69,744],function(){return e(e.s=2236)}),_N_E=e.O()}]);
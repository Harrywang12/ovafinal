(()=>{var e={};e.id=472,e.ids=[472],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1549:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d});var a=s(482),i=s(9108),r=s(2563),n=s.n(r),l=s(8300),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let d=["",{children:["practice",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3234)),"/Users/harrisonwang/ovafinal/app/practice/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2187)),"/Users/harrisonwang/ovafinal/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/harrisonwang/ovafinal/app/practice/page.tsx"],x="/practice/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/practice/page",pathname:"/practice",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4157:(e,t,s)=>{Promise.resolve().then(s.bind(s,9789))},9789:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(5344),i=s(5037),r=s(1296),n=s(3729),l=s(1912),c=s(9119),d=s(8209),o=s(9200),x=s(7320),m=s(6313),u=s(782),p=s(5299),h=s(4290),f=s(3229),j=s(2701),y=s(2635);let b=["easy","medium","hard"],g={easy:"bg-green-500",medium:"bg-accent",hard:"bg-red-500"};function v(){let[e,t]=(0,n.useState)("medium"),[s,v]=(0,n.useState)(null),[N,w]=(0,n.useState)(""),[k,E]=(0,n.useState)(null),[_,C]=(0,n.useState)(null),Z=(0,i.a)({queryKey:["practice",e],queryFn:async()=>{let t=await fetch(`/api/practice?difficulty=${e}`);if(!t.ok)throw Error("Failed to load practice clip");return t.json()}});(0,n.useEffect)(()=>{Z.data&&(v(Z.data),E(null),w(""),C(Z.data.duration_seconds))},[Z.data]),(0,n.useEffect)(()=>{Z.refetch()},[e]),(0,n.useEffect)(()=>{if(null===_||_<=0||k)return;let e=setInterval(()=>{C(e=>null!==e?e-1:null)},1e3);return()=>clearInterval(e)},[_,k]);let P=(0,r.D)({mutationFn:async e=>{let t=await fetch("/api/practice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to save attempt");return t.json()}});return a.jsx(j.a,{children:a.jsx("div",{className:"min-h-screen pt-24 pb-16",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-6",children:[(0,a.jsxs)(l.E.div,{variants:y.eu,initial:"hidden",animate:"visible",className:"text-center mb-12",children:[a.jsx(l.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-accent/10 text-accent mb-6",children:a.jsx(d.Z,{size:32})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold text-primary mb-4",children:"Video Practice"}),a.jsx("p",{className:"text-muted text-lg max-w-xl mx-auto",children:"Real game footage with timed decisions. Train your instincts at match speed."})]}),(0,a.jsxs)(l.E.div,{variants:y.Jm,initial:"hidden",animate:"visible",className:"flex flex-wrap items-center justify-center gap-3 mb-10",children:[b.map(s=>a.jsx(l.E.button,{variants:y.CU,whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>t(s),className:`px-5 py-2.5 rounded-full text-sm font-semibold capitalize transition-all ${e===s?`${g[s]} text-white shadow-lg`:"bg-white border border-border text-ink hover:border-accent/40"}`,children:s},s)),a.jsx(l.E.button,{variants:y.CU,whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>Z.refetch(),disabled:Z.isLoading,className:"pill text-white",children:Z.isLoading?(0,a.jsxs)(a.Fragment,{children:[a.jsx(l.E.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:a.jsx(o.Z,{size:18})}),"Loading..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.Z,{size:18}),"New Clip"]})})]}),a.jsx(l.E.div,{variants:y.Jm,initial:"hidden",animate:"visible",className:"grid grid-cols-3 gap-4 mb-10",children:[{icon:m.Z,title:"Timed",desc:"Rally pressure"},{icon:u.Z,title:"Grounded",desc:"Rule cited"},{icon:d.Z,title:"Tracked",desc:"Results saved"}].map((e,t)=>(0,a.jsxs)(l.E.div,{variants:y.CU,className:"card text-center py-4",children:[a.jsx(e.icon,{size:20,className:"mx-auto text-accent mb-2"}),a.jsx("p",{className:"text-sm font-semibold text-primary",children:e.title}),a.jsx("p",{className:"text-xs text-muted",children:e.desc})]},t))}),a.jsx(c.M,{mode:"wait",children:s?(0,a.jsxs)(l.E.div,{variants:y.By,initial:"hidden",animate:"visible",exit:{opacity:0,scale:.95},className:"card space-y-6",children:[null!==_&&!k&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-muted",children:"Time to decide"}),(0,a.jsxs)(l.E.div,{animate:_<=5?{scale:[1,1.1,1]}:{},transition:{duration:.5,repeat:_<=5?1/0:0},className:`flex items-center gap-2 px-4 py-2 rounded-full font-bold ${_<=5?"bg-red-100 text-red-600":"bg-surface text-primary"}`,children:[a.jsx(m.Z,{size:18}),_,"s"]})]}),(0,a.jsxs)("div",{className:"relative rounded-xl overflow-hidden bg-black aspect-video",children:[a.jsx("video",{src:s.video_url,className:"w-full h-full object-cover",controls:!0,preload:"metadata"}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold text-white ${g[e]}`,children:e})})]}),!k&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-primary mb-2",children:"Your Call"}),a.jsx("input",{value:N,onChange:e=>w(e.target.value),placeholder:"e.g., Fault: Net touch on blocker",className:"w-full px-4 py-3 rounded-xl bg-surface border border-border text-ink placeholder:text-muted focus:outline-none focus:ring-2 focus:ring-accent/30"})]}),(0,a.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{if(!s)return;let e=N.trim().toLowerCase()===s.correct_call.trim().toLowerCase();E(e?"correct":"incorrect"),P.mutate({video_id:s.video_id,correct:e,time_taken:s.duration_seconds-(_||0)})},disabled:!N.trim(),className:"pill text-white w-full justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:["Submit Call",a.jsx(p.Z,{size:18})]})]}),a.jsx(c.M,{children:k&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[a.jsx("div",{className:`p-4 rounded-xl ${"correct"===k?"bg-green-100 border border-green-200":"bg-red-100 border border-red-200"}`,children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:["correct"===k?a.jsx(h.Z,{className:"text-green-600",size:24}):a.jsx(f.Z,{className:"text-red-600",size:24}),a.jsx("span",{className:`font-bold text-lg ${"correct"===k?"text-green-700":"text-red-700"}`,children:"correct"===k?"Correct Decision!":"Incorrect Decision"})]})}),(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-surface border border-border space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-muted mb-1",children:"Correct Call"}),a.jsx("p",{className:"text-ink font-semibold",children:s.correct_call})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-muted mb-1",children:"Explanation"}),a.jsx("p",{className:"text-ink",children:s.explanation})]}),s.rule_reference&&(0,a.jsxs)("p",{className:"text-sm text-accent font-medium",children:["\uD83D\uDCD6 Rule: ",s.rule_reference]})]}),(0,a.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>Z.refetch(),className:"pill text-white w-full justify-center",children:["Next Clip",a.jsx(p.Z,{size:18})]})]})})]},s.video_id):(0,a.jsxs)(l.E.div,{variants:y.eu,initial:"hidden",animate:"visible",className:"card text-center py-16",children:[a.jsx(l.E.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-accent/10 text-accent mb-6",children:a.jsx(d.Z,{size:40})}),a.jsx("h3",{className:"text-xl font-display font-bold text-primary mb-2",children:"Ready for Game Speed?"}),a.jsx("p",{className:"text-muted mb-6",children:"Load a clip to practice making quick decisions under pressure."}),(0,a.jsxs)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>Z.refetch(),className:"pill text-white",children:[a.jsx(x.Z,{size:18}),"Load Clip"]})]})})]})})})}},2701:(e,t,s)=>{"use strict";s.d(t,{a:()=>x});var a=s(5344),i=s(3729),r=s(8428),n=s(1912),l=s(2739),c=s(9148);function d({children:e}){let{session:t,loading:s}=(0,c.K)(),d=(0,r.useRouter)(),o=(0,r.usePathname)(),x=(0,r.useSearchParams)(),m=(0,i.useMemo)(()=>{let e=x.toString();return e?`${o}?${e}`:o},[o,x]);return((0,i.useEffect)(()=>{if(!s&&!t){let e=new URLSearchParams({next:m});d.replace(`/login?${e.toString()}`)}},[s,t,d,m]),s)?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-4",children:[a.jsx(n.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:a.jsx(l.Z,{size:32,className:"text-primary"})}),a.jsx("p",{className:"text-muted text-sm",children:"Checking your session..."})]})}):t?a.jsx(a.Fragment,{children:e}):null}function o(){return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-4",children:[a.jsx(n.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:a.jsx(l.Z,{size:32,className:"text-accent"})}),a.jsx("p",{className:"text-muted text-sm",children:"Loading..."})]})})}function x({children:e}){return a.jsx(i.Suspense,{fallback:a.jsx(o,{}),children:a.jsx(d,{children:e})})}},4290:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},7320:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},6313:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]])},3229:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},9200:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},3234:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>i,default:()=>n});let a=(0,s(6843).createProxy)(String.raw`/Users/harrisonwang/ovafinal/app/practice/page.tsx`),{__esModule:i,$$typeof:r}=a,n=a.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,411,608,272],()=>s(1549));module.exports=a})();
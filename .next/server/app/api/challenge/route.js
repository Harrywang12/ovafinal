"use strict";(()=>{var e={};e.id=631,e.ids=[631],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8448:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>E,originalPathname:()=>v,patchFetch:()=>A,requestAsyncStorage:()=>m,routeModule:()=>h,serverHooks:()=>f,staticGenerationAsyncStorage:()=>S,staticGenerationBailout:()=>g});var a={};t.r(a),t.d(a,{GET:()=>d,POST:()=>p,runtime:()=>c});var n=t(5419),i=t(9108),s=t(9678),o=t(8070),u=t(8234),l=t(5752);let c="nodejs";async function d(){(0,l.V1)(["SUPABASE_URL","SUPABASE_SERVICE_KEY"]);let e=(0,u.b)(),{data:r,error:t}=await e.from("videos").select("*").eq("difficulty","extreme").limit(1);if(t)return o.Z.json({error:t.message},{status:500});let a=r?.[0],{data:n,error:i}=await e.from("weekly_leaderboard").select("*").limit(20);return i?o.Z.json({error:i.message},{status:500}):o.Z.json({video:a,leaderboard:n??[]})}async function p(e){(0,l.V1)(["SUPABASE_URL","SUPABASE_SERVICE_KEY"]);let r=(0,u.b)(),{user_id:t,video_id:a,score:n}=await e.json();if(!a)return o.Z.json({error:"video_id required"},{status:400});let{error:i}=await r.from("challenge_entries").insert({user_id:t,video_id:a,score:n});return i?o.Z.json({error:i.message},{status:500}):o.Z.json({ok:!0})}let h=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/challenge/route",pathname:"/api/challenge",filename:"route",bundlePath:"app/api/challenge/route"},resolvedPagePath:"/Users/harrisonwang/ovafinal/app/api/challenge/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:S,serverHooks:f,headerHooks:E,staticGenerationBailout:g}=h,v="/api/challenge/route";function A(){return(0,s.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:S})}},8234:(e,r,t)=>{t.d(r,{b:()=>s});var a=t(7493);let n="https://uglzhvquiarxyahsnesj.supabase.co",i=process.env.SUPABASE_SERVICE_KEY,s=()=>{if(!n||!i)throw Error("Supabase environment variables missing (SUPABASE_URL, SUPABASE_SERVICE_KEY).");return(0,a.eI)(n,i,{global:{headers:{"x-client-info":"volleyball-ref-training"}},auth:{autoRefreshToken:!1,detectSessionInUrl:!1,persistSession:!1}})}},5752:(e,r,t)=>{function a(e){switch(e){case"easy":return 3;case"medium":return 4;case"hard":return 5;default:return 6}}function n(e){return e.map((e,r)=>`Rule Snippet ${r+1}${e.similarity?` (sim ${e.similarity.toFixed(2)})`:""}:
${e.chunk}`).join("\n\n")}function i(e){let r=e.filter(e=>!process.env[e]);if(r.length)throw Error(`Missing environment variables: ${r.join(", ")}`)}t.d(r,{V1:()=>i,aZ:()=>n,uF:()=>a})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[638,164],()=>t(8448));module.exports=a})();
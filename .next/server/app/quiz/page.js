(()=>{var e={};e.id=705,e.ids=[705],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3010:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d});var i=s(482),a=s(9108),r=s(2563),n=s.n(r),l=s(8300),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let d=["",{children:["quiz",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2117)),"/Users/harrisonwang/ovafinal/app/quiz/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2187)),"/Users/harrisonwang/ovafinal/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/harrisonwang/ovafinal/app/quiz/page.tsx"],x="/quiz/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/quiz/page",pathname:"/quiz",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2177:(e,t,s)=>{Promise.resolve().then(s.bind(s,8517))},8517:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var i=s(5344),a=s(1296),r=s(3729),n=s(1912),l=s(9119),c=s(473),d=s(9200),o=s(5904),x=s(3211),m=s(4290),u=s(3229),p=s(5299),h=s(2701),g=s(2635);let j=["easy","medium","hard"],b={easy:"bg-green-500",medium:"bg-accent",hard:"bg-red-500"};function f(){let[e,t]=(0,r.useState)("medium"),[s,f]=(0,r.useState)(null),[y,v]=(0,r.useState)(null),[w,N]=(0,r.useState)(null),[k,z]=(0,r.useState)(null),E=(0,a.D)({mutationFn:async e=>{let t=await fetch("/api/generate-question",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({difficulty:e})});if(!t.ok)throw Error("Failed to generate question");return t.json()},onSuccess:e=>{f(e),v(null),N(null)}}),q=(0,a.D)({mutationFn:async e=>{let t=await fetch("/api/quiz-attempt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to save attempt");return t.json()}}),Z=(0,r.useMemo)(()=>s?.options||[],[s]);return i.jsx(h.a,{children:i.jsx("div",{className:"min-h-screen pt-24 pb-16",children:(0,i.jsxs)("div",{className:"max-w-4xl mx-auto px-6",children:[(0,i.jsxs)(n.E.div,{variants:g.eu,initial:"hidden",animate:"visible",className:"text-center mb-12",children:[i.jsx(n.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-accent/10 text-accent mb-6",children:i.jsx(c.Z,{size:32})}),i.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold text-primary mb-4",children:"Adaptive Quiz"}),i.jsx("p",{className:"text-muted text-lg max-w-xl mx-auto",children:"AI-generated questions from the official rulebook. Every answer is grounded and cited."})]}),(0,i.jsxs)(n.E.div,{variants:g.Jm,initial:"hidden",animate:"visible",className:"flex flex-wrap items-center justify-center gap-3 mb-10",children:[j.map(s=>i.jsx(n.E.button,{variants:g.CU,whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>t(s),className:`px-5 py-2.5 rounded-full text-sm font-semibold capitalize transition-all ${e===s?`${b[s]} text-white shadow-lg`:"bg-white border border-border text-ink hover:border-accent/40"}`,children:s},s)),i.jsx(n.E.button,{variants:g.CU,whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>E.mutate(e),disabled:E.isPending,className:"pill text-white",children:E.isPending?(0,i.jsxs)(i.Fragment,{children:[i.jsx(n.E.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:i.jsx(d.Z,{size:18})}),"Generating..."]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx(d.Z,{size:18}),"New Question"]})})]}),i.jsx(n.E.div,{variants:g.Jm,initial:"hidden",animate:"visible",className:"grid grid-cols-3 gap-4 mb-10",children:[{icon:o.Z,title:"Adaptive",desc:"Scales with you"},{icon:x.Z,title:"Cited",desc:"Rulebook grounded"},{icon:c.Z,title:"Tracked",desc:"Progress saved"}].map((e,t)=>(0,i.jsxs)(n.E.div,{variants:g.CU,className:"card text-center py-4",children:[i.jsx(e.icon,{size:20,className:"mx-auto text-accent mb-2"}),i.jsx("p",{className:"text-sm font-semibold text-primary",children:e.title}),i.jsx("p",{className:"text-xs text-muted",children:e.desc})]},t))}),i.jsx(l.M,{mode:"wait",children:s?(0,i.jsxs)(n.E.div,{variants:g.eu,initial:"hidden",animate:"visible",exit:{opacity:0,y:20},className:"card space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("span",{className:`w-2 h-2 rounded-full ${b[e]}`}),(0,i.jsxs)("span",{className:"text-xs font-semibold uppercase tracking-wider text-muted",children:[e," Question"]})]}),i.jsx("h2",{className:"text-xl md:text-2xl font-display font-bold text-primary",children:s.question})]}),i.jsx("div",{className:"grid md:grid-cols-2 gap-3 relative z-10",children:Z.map((e,t)=>{let a=String.fromCharCode(65+t),r=y===e,n=w&&e===s.answer,l="incorrect"===w&&r;return i.jsx("button",{type:"button",onClick:()=>!w&&v(e),disabled:!!w,className:`p-4 rounded-xl border-2 text-left transition-all hover:scale-[1.02] active:scale-[0.98] ${n?"border-green-500 bg-green-50":l?"border-red-500 bg-red-50":r?"border-accent bg-accent/5":"border-border hover:border-accent/40 bg-white"}`,children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:`flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center font-bold text-sm ${n?"bg-green-500 text-white":l?"bg-red-500 text-white":r?"bg-accent text-white":"bg-surface text-primary"}`,children:n?i.jsx(m.Z,{size:18}):l?i.jsx(u.Z,{size:18}):a}),i.jsx("span",{className:`text-sm md:text-base ${n||l?"font-medium":""} ${n?"text-green-700":l?"text-red-700":"text-ink"}`,children:e})]})},e)})}),!w&&(0,i.jsxs)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{if(!s||!y)return;let t=y===s.answer;N(t?"correct":"incorrect"),z(t?null:`You missed a ${e} item. Review module: ${s.rule_reference?.includes("rotation")?"Rotations":s.rule_reference?.includes("net")?"Blocking":"Faults"}.`),q.mutate({question:s,selected_option:y,correct:t})},disabled:!y,className:"pill text-white w-full justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:["Submit Answer",i.jsx(p.Z,{size:18})]}),i.jsx(l.M,{children:w&&(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[i.jsx("div",{className:`p-4 rounded-xl ${"correct"===w?"bg-green-100 border border-green-200":"bg-red-100 border border-red-200"}`,children:(0,i.jsxs)("div",{className:"flex items-center gap-3",children:["correct"===w?i.jsx(m.Z,{className:"text-green-600",size:24}):i.jsx(u.Z,{className:"text-red-600",size:24}),i.jsx("span",{className:`font-bold text-lg ${"correct"===w?"text-green-700":"text-red-700"}`,children:"correct"===w?"Correct!":"Incorrect"})]})}),(0,i.jsxs)("div",{className:"p-4 rounded-xl bg-surface border border-border",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-muted mb-2",children:"Explanation"}),i.jsx("p",{className:"text-ink",children:s.explanation}),s.rule_reference&&(0,i.jsxs)("p",{className:"text-sm text-accent mt-3 font-medium",children:["\uD83D\uDCD6 Rule: ",s.rule_reference]})]}),k&&i.jsx("div",{className:"p-4 rounded-xl bg-accent/10 border border-accent/20",children:(0,i.jsxs)("p",{className:"text-sm font-semibold text-accent",children:["\uD83D\uDCA1 ",k]})}),i.jsx(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>E.mutate(e),disabled:E.isPending,className:"pill text-white w-full justify-center disabled:opacity-80",children:E.isPending?(0,i.jsxs)(i.Fragment,{children:[i.jsx(n.E.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:i.jsx(d.Z,{size:18})}),"Generating Question..."]}):(0,i.jsxs)(i.Fragment,{children:["Next Question",i.jsx(p.Z,{size:18})]})})]})})]},s.question):(0,i.jsxs)(n.E.div,{variants:g.eu,initial:"hidden",animate:"visible",className:"card text-center py-16",children:[i.jsx(n.E.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-accent/10 text-accent mb-6",children:i.jsx(d.Z,{size:40})}),i.jsx("h3",{className:"text-xl font-display font-bold text-primary mb-2",children:"Ready to Test Your Knowledge?"}),i.jsx("p",{className:"text-muted mb-6",children:'Click "New Question" to generate an AI-powered quiz question.'}),i.jsx(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>E.mutate(e),disabled:E.isPending,className:"pill text-white disabled:opacity-80",children:E.isPending?(0,i.jsxs)(i.Fragment,{children:[i.jsx(n.E.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:i.jsx(d.Z,{size:18})}),"Generating Question..."]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx(d.Z,{size:18}),"Generate Question"]})})]})})]})})})}},2701:(e,t,s)=>{"use strict";s.d(t,{a:()=>x});var i=s(5344),a=s(3729),r=s(8428),n=s(1912),l=s(2739),c=s(9148);function d({children:e}){let{session:t,loading:s}=(0,c.K)(),d=(0,r.useRouter)(),o=(0,r.usePathname)(),x=(0,r.useSearchParams)(),m=(0,a.useMemo)(()=>{let e=x.toString();return e?`${o}?${e}`:o},[o,x]);return((0,a.useEffect)(()=>{if(!s&&!t){let e=new URLSearchParams({next:m});d.replace(`/login?${e.toString()}`)}},[s,t,d,m]),s)?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,i.jsxs)(n.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-4",children:[i.jsx(n.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:i.jsx(l.Z,{size:32,className:"text-primary"})}),i.jsx("p",{className:"text-muted text-sm",children:"Checking your session..."})]})}):t?i.jsx(i.Fragment,{children:e}):null}function o(){return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,i.jsxs)(n.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-4",children:[i.jsx(n.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:i.jsx(l.Z,{size:32,className:"text-accent"})}),i.jsx("p",{className:"text-muted text-sm",children:"Loading..."})]})})}function x({children:e}){return i.jsx(a.Suspense,{fallback:i.jsx(o,{}),children:i.jsx(d,{children:e})})}},3211:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(9224).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},4290:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(9224).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},5904:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(9224).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},3229:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(9224).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},9200:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});/**
 * @license lucide-react v0.306.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(9224).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},2117:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>a,default:()=>n});let i=(0,s(6843).createProxy)(String.raw`/Users/harrisonwang/ovafinal/app/quiz/page.tsx`),{__esModule:a,$$typeof:r}=i,n=i.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[638,411,272],()=>s(3010));module.exports=i})();